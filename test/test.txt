The latest version of Julia in the `release` channel is 1.11.6+0.aarch64.apple.darwin14. You currently have `1.11.2+0.aarch64.apple.darwin14` installed. Run:

  juliaup update

in your terminal shell to install Julia 1.11.6+0.aarch64.apple.darwin14 and update the `release` channel to that version.
     Testing Margins
┌ Warning: Entry in manifest at "/Users/emf/.julia/dev/Margins/test" for package "StaticArrays" differs from that in "/Users/emf/.julia/dev/Margins/Manifest.toml"
└ @ Pkg.Operations ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Pkg/src/Operations.jl:1871
┌ Warning: Entry in manifest at "/Users/emf/.julia/dev/Margins/test" for package "FormulaCompiler" differs from that in "/Users/emf/.julia/dev/Margins/Manifest.toml"
└ @ Pkg.Operations ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Pkg/src/Operations.jl:1871
      Status `/private/var/folders/td/5b_qj7x16jlfbrt5dgq_y34m0000gp/T/jl_1Z2Gdr/Project.toml`
  [6e4b80f9] BenchmarkTools v1.6.0
⌅ [324d7699] CategoricalArrays v0.10.8
  [60f91f6f] CovarianceMatrices v0.22.0
  [a93c6f00] DataFrames v1.7.1
  [31c24e10] Distributions v0.25.120
  [72341345] FormulaCompiler v1.0.0 `~/.julia/dev/FormulaCompiler`
  [38e38edf] GLM v1.9.0
  [883ce5cb] Margins v0.1.0 `~/.julia/dev/Margins`
⌅ [ff71e718] MixedModels v4.38.1
  [ce6b1742] RDatasets v0.7.7
  [10745b16] Statistics v1.11.1
  [2913bbd2] StatsBase v0.34.6
  [3eaba693] StatsModels v0.7.6
  [bd369af6] Tables v1.12.1
  [ade2ca70] Dates v1.11.0
  [37e2e46d] LinearAlgebra v1.11.0
  [de0858da] Printf v1.11.0
  [9a3f8284] Random v1.11.0
  [8dfed614] Test v1.11.0
      Status `/private/var/folders/td/5b_qj7x16jlfbrt5dgq_y34m0000gp/T/jl_1Z2Gdr/Manifest.toml`
  [a4c015fc] ANSIColoredPrinters v0.0.1
  [1520ce14] AbstractTrees v0.4.5
  [79e6a3ab] Adapt v4.3.0
  [66dad0bd] AliasTables v1.1.3
  [4c555306] ArrayLayouts v1.11.2
  [69666777] Arrow v2.8.0
  [31f734f8] ArrowTypes v2.3.0
  [093aae92] BSplineKit v0.19.0
  [aae01518] BandedMatrices v1.9.4
  [6e4b80f9] BenchmarkTools v1.6.0
  [c3b6d118] BitIntegers v0.3.5
  [fa961155] CEnum v0.5.0
  [336ed68f] CSV v0.10.15
⌅ [324d7699] CategoricalArrays v0.10.8
  [da1fd8a2] CodeTracking v2.0.0
  [5ba52731] CodecLz4 v0.4.6
  [944b1d66] CodecZlib v0.7.8
  [6b39b394] CodecZstd v0.8.6
  [861a8166] Combinatorics v1.0.3
  [bbf7d656] CommonSubexpressions v0.3.1
  [f70d9fcc] CommonWorldInvalidations v1.0.0
  [34da2185] Compat v4.18.0
  [807dbc54] Compiler v0.1.1
  [f0e56b4a] ConcurrentUtilities v2.5.0
  [60f91f6f] CovarianceMatrices v0.22.0
  [a8cc5b0e] Crayons v4.1.1
  [9a962f9c] DataAPI v1.16.0
  [a93c6f00] DataFrames v1.7.1
⌅ [864edb3b] DataStructures v0.18.22
  [e2d170a0] DataValueInterfaces v1.0.0
  [85a47980] Dictionaries v0.4.5
  [163ba53b] DiffResults v1.1.0
  [b552c78f] DiffRules v1.15.1
  [31c24e10] Distributions v0.25.120
  [ffbed154] DocStringExtensions v0.9.5
  [e30172f5] Documenter v1.14.1
  [4e289a0a] EnumX v1.0.5
  [e2ba6199] ExprTools v0.1.10
  [442a2c76] FastGaussQuadrature v1.0.2
  [5789e2e9] FileIO v1.17.0
  [48062228] FilePathsBase v0.9.24
  [1a297f60] FillArrays v1.13.0
  [72341345] FormulaCompiler v1.0.0 `~/.julia/dev/FormulaCompiler`
  [f6369f11] ForwardDiff v1.1.0
  [38e38edf] GLM v1.9.0
  [d7ba0133] Git v1.5.0
  [6407cd72] GroupedArrays v0.3.3
  [34004b35] HypergeometricFunctions v0.3.28
  [b5f81e59] IOCapture v0.2.5
  [615f187c] IfElse v0.1.1
  [313cdc1a] Indexing v1.1.1
  [842dd82b] InlineStrings v1.4.5
  [41ab1584] InvertedIndices v1.3.1
  [92d709cd] IrrationalConstants v0.2.4
  [82899510] IteratorInterfaceExtensions v1.0.0
  [692b3bcd] JLLWrappers v1.7.1
  [682c06a0] JSON v0.21.4
  [0f8b85d8] JSON3 v1.14.3
  [aa1ae85d] JuliaInterpreter v0.10.5
  [b964fa9f] LaTeXStrings v1.4.0
  [0e77f7df] LazilyInitializedFields v1.3.0
  [2ab3a3ac] LogExpFunctions v0.3.29
  [6f1432cf] LoweredCodeUtils v3.4.3
  [1914dd2f] MacroTools v0.5.16
  [883ce5cb] Margins v0.1.0 `~/.julia/dev/Margins`
  [d0879d2d] MarkdownAST v0.1.2
  [e1d29d7a] Missings v1.2.0
⌅ [ff71e718] MixedModels v4.38.1
  [7e9fb7ac] MixedModelsDatasets v0.1.2
  [78c3b35d] Mocking v0.8.1
  [76087f3c] NLopt v1.2.1
  [77ba4419] NaNMath v1.1.3
  [bac558e1] OrderedCollections v1.8.1
  [90014a1f] PDMats v0.11.35
  [69de0a69] Parsers v2.8.3
  [2dfb63ee] PooledArrays v1.4.3
⌅ [aea7be01] PrecompileTools v1.2.1
  [21216c6a] Preferences v1.5.0
⌅ [08abe8d2] PrettyTables v2.4.0
  [92933f4c] ProgressMeter v1.11.0
  [43287f4e] PtrArrays v1.3.0
  [1fd47b50] QuadGK v2.11.2
⌅ [df47a6cb] RData v0.8.3
  [ce6b1742] RDatasets v0.7.7
  [189a3867] Reexport v1.2.2
  [2792f1a3] RegistryInstances v0.1.0
  [ae029012] Requires v1.3.1
  [295af30f] Revise v3.9.0
  [79098fc4] Rmath v0.8.0
  [6c6a2e73] Scratch v1.3.0
  [91c51154] SentinelArrays v1.4.8
  [1277b4bf] ShiftedArrays v2.0.0
  [a2af1166] SortingAlgorithms v1.2.2
  [276daf66] SpecialFunctions v2.5.1
  [03a91e81] SplitApplyCombine v1.2.3
  [5064a6a7] StandardizedPredictors v1.0.1
  [aedffcd0] Static v1.2.0
  [90137ffa] StaticArrays v1.9.15
  [1e83bf80] StaticArraysCore v1.4.3
  [10745b16] Statistics v1.11.1
  [82ae8749] StatsAPI v1.7.1
  [2913bbd2] StatsBase v0.34.6
  [4c63d2b9] StatsFuns v1.5.0
  [3eaba693] StatsModels v0.7.6
  [892a3eda] StringManipulation v0.4.1
  [354b36f9] StringViews v1.3.5
  [856f2bd8] StructTypes v1.11.0
  [dc5dba14] TZJData v1.5.0+2025b
  [3783bdb8] TableTraits v1.0.1
  [bd369af6] Tables v1.12.1
  [f269a46b] TimeZones v1.22.0
  [3bb67fe8] TranscodingStreams v0.11.3
  [9d95f2ec] TypedTables v1.4.6
  [ea10d353] WeakRefStrings v1.4.2
  [76eceee3] WorkerUtilities v1.6.1
  [2e619515] Expat_jll v2.7.1+0
  [020c3dae] Git_LFS_jll v3.7.0+0
⌃ [f8c6e375] Git_jll v2.51.0+0
  [94ce4f54] Libiconv_jll v1.18.0+0
  [5ced341a] Lz4_jll v1.10.1+0
  [079eb43e] NLopt_jll v2.10.0+0
  [9bd350c2] OpenSSH_jll v10.0.1+0
  [458c3c95] OpenSSL_jll v3.5.2+0
  [efe28fd5] OpenSpecFun_jll v0.5.6+0
  [f50d1b31] Rmath_jll v0.5.1+0
  [3161d3a3] Zstd_jll v1.5.7+1
  [0dad84c5] ArgTools v1.1.2
  [56f22d72] Artifacts v1.11.0
  [2a0f44e3] Base64 v1.11.0
  [ade2ca70] Dates v1.11.0
  [8ba89e20] Distributed v1.11.0
  [f43a241f] Downloads v1.6.0
  [7b1f6079] FileWatching v1.11.0
  [9fa8497b] Future v1.11.0
  [b77e0a4c] InteractiveUtils v1.11.0
  [4af54fe1] LazyArtifacts v1.11.0
  [b27032c2] LibCURL v0.6.4
  [76f85450] LibGit2 v1.11.0
  [8f399da3] Libdl v1.11.0
  [37e2e46d] LinearAlgebra v1.11.0
  [56ddb016] Logging v1.11.0
  [d6f4376e] Markdown v1.11.0
  [a63ad114] Mmap v1.11.0
  [ca575930] NetworkOptions v1.2.0
  [44cfe95a] Pkg v1.11.0
  [de0858da] Printf v1.11.0
  [9abbd945] Profile v1.11.0
  [3fa0cd96] REPL v1.11.0
  [9a3f8284] Random v1.11.0
  [ea8e919c] SHA v0.7.0
  [9e88b42a] Serialization v1.11.0
  [6462fe0b] Sockets v1.11.0
  [2f01184e] SparseArrays v1.11.0
  [f489334b] StyledStrings v1.11.0
  [4607b0f0] SuiteSparse
  [fa267f1f] TOML v1.0.3
  [a4e569a6] Tar v1.10.0
  [8dfed614] Test v1.11.0
  [cf7118a7] UUIDs v1.11.0
  [4ec0a83e] Unicode v1.11.0
  [e66e0078] CompilerSupportLibraries_jll v1.1.1+0
  [deac9b47] LibCURL_jll v8.6.0+0
  [e37daf67] LibGit2_jll v1.7.2+0
  [29816b5a] LibSSH2_jll v1.11.0+1
  [c8ffd9c3] MbedTLS_jll v2.28.6+0
  [14a3606d] MozillaCACerts_jll v2023.12.12
  [4536629a] OpenBLAS_jll v0.3.27+1
  [05823500] OpenLibm_jll v0.8.1+2
  [efcefdf7] PCRE2_jll v10.42.0+1
  [bea87d4a] SuiteSparse_jll v7.7.0+0
  [83775a58] Zlib_jll v1.2.13+1
  [8e850b90] libblastrampoline_jll v5.11.0+0
  [8e850ede] nghttp2_jll v1.59.0+0
  [3f19e933] p7zip_jll v17.4.0+2
        Info Packages marked with ⌃ and ⌅ have new versions available. Those with ⌃ may be upgradable, but those with ⌅ are restricted by compatibility constraints from upgrading.
Precompiling project for configuration --code-coverage=none --color=auto --check-bounds=yes --warn-overwrite=yes --depwarn=yes --inline=yes --startup-file=no --track-allocation=none...
   4478.6 ms  ✓ Margins
  1 dependency successfully precompiled in 5 seconds. 189 already precompiled.
     Testing Running tests...
Simple categorical groups: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_grouping.jl:22
  Got exception outside of a @test
  UndefVarError: `_accumulate_me_value` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _compute_continuous_ame_context(engine::Margins.MarginsEngine{LogitLink}, var::Symbol, context_data::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, context_indices::Vector{Int64}, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:595
    [2] _compute_population_effect_in_context(engine::Margins.MarginsEngine{LogitLink}, context_data::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, context_indices::Vector{Int64}, var::Symbol, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:541
    [3] _population_margins_with_contexts(engine::Margins.MarginsEngine{LogitLink}, data_nt::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, vars::Vector{Symbol}, scenarios::Nothing, groups::Symbol, weights::Nothing; type::Symbol, scale::Symbol, backend::Symbol)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:51
    [4] population_margins(model::StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, LinearAlgebra.CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Symbol, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:150
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:29 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:24 [inlined]
    [8] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [9] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:7
   [10] include(fname::String)
      @ Main ./sysimg.jl:38
   [11] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:22 [inlined]
   [12] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [13] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [14] include(fname::String)
      @ Main ./sysimg.jl:38
   [15] top-level scope
      @ none:6
   [16] eval
      @ ./boot.jl:430 [inlined]
   [17] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [18] _start()
      @ Base ./client.jl:531
Multiple categorical groups: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_grouping.jl:35
  Got exception outside of a @test
  UndefVarError: `_accumulate_me_value` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _compute_continuous_ame_context(engine::Margins.MarginsEngine{LogitLink}, var::Symbol, context_data::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, context_indices::Vector{Int64}, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:595
    [2] _compute_population_effect_in_context(engine::Margins.MarginsEngine{LogitLink}, context_data::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, context_indices::Vector{Int64}, var::Symbol, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:541
    [3] _population_margins_with_contexts(engine::Margins.MarginsEngine{LogitLink}, data_nt::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, vars::Vector{Symbol}, scenarios::Nothing, groups::Vector{Symbol}, weights::Nothing; type::Symbol, scale::Symbol, backend::Symbol)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:51
    [4] population_margins(model::StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, LinearAlgebra.CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Vector{Symbol}, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:150
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:36 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:36 [inlined]
    [8] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [9] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:7
   [10] include(fname::String)
      @ Main ./sysimg.jl:38
   [11] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:22 [inlined]
   [12] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [13] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [14] include(fname::String)
      @ Main ./sysimg.jl:38
   [15] top-level scope
      @ none:6
   [16] eval
      @ ./boot.jl:430 [inlined]
   [17] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [18] _start()
      @ Base ./client.jl:531
Continuous groups (quartiles): Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_grouping.jl:44
  Got exception outside of a @test
  UndefVarError: `_accumulate_me_value` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _compute_continuous_ame_context(engine::Margins.MarginsEngine{LogitLink}, var::Symbol, context_data::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, context_indices::Vector{Int64}, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:595
    [2] _compute_population_effect_in_context(engine::Margins.MarginsEngine{LogitLink}, context_data::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, context_indices::Vector{Int64}, var::Symbol, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:541
    [3] _population_margins_with_contexts(engine::Margins.MarginsEngine{LogitLink}, data_nt::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, vars::Vector{Symbol}, scenarios::Nothing, groups::Tuple{Symbol, Int64}, weights::Nothing; type::Symbol, scale::Symbol, backend::Symbol)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:51
    [4] population_margins(model::StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, LinearAlgebra.CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Tuple{Symbol, Int64}, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:150
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:45 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:45 [inlined]
    [8] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [9] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:7
   [10] include(fname::String)
      @ Main ./sysimg.jl:38
   [11] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:22 [inlined]
   [12] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [13] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [14] include(fname::String)
      @ Main ./sysimg.jl:38
   [15] top-level scope
      @ none:6
   [16] eval
      @ ./boot.jl:430 [inlined]
   [17] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [18] _start()
      @ Base ./client.jl:531
Nested groups: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_grouping.jl:54
  Got exception outside of a @test
  UndefVarError: `_accumulate_me_value` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _compute_continuous_ame_context(engine::Margins.MarginsEngine{LogitLink}, var::Symbol, context_data::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, context_indices::Vector{Int64}, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:595
    [2] _compute_population_effect_in_context(engine::Margins.MarginsEngine{LogitLink}, context_data::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, context_indices::Vector{Int64}, var::Symbol, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:541
    [3] _population_margins_with_contexts(engine::Margins.MarginsEngine{LogitLink}, data_nt::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, vars::Vector{Symbol}, scenarios::Nothing, groups::Pair{Symbol, Symbol}, weights::Nothing; type::Symbol, scale::Symbol, backend::Symbol)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:51
    [4] population_margins(model::StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, LinearAlgebra.CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Pair{Symbol, Symbol}, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:150
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:55 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:55 [inlined]
    [8] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [9] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:7
   [10] include(fname::String)
      @ Main ./sysimg.jl:38
   [11] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:22 [inlined]
   [12] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [13] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [14] include(fname::String)
      @ Main ./sysimg.jl:38
   [15] top-level scope
      @ none:6
   [16] eval
      @ ./boot.jl:430 [inlined]
   [17] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [18] _start()
      @ Base ./client.jl:531
Mixed continuous and categorical effects with grouping: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_grouping.jl:93
  Got exception outside of a @test
  UndefVarError: `_accumulate_me_value` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _compute_continuous_ame_context(engine::Margins.MarginsEngine{LogitLink}, var::Symbol, context_data::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, context_indices::Vector{Int64}, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:595
    [2] _compute_population_effect_in_context(engine::Margins.MarginsEngine{LogitLink}, context_data::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, context_indices::Vector{Int64}, var::Symbol, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:541
    [3] _population_margins_with_contexts(engine::Margins.MarginsEngine{LogitLink}, data_nt::@NamedTuple{y::Vector{Bool}, x::Vector{Float64}, z::Vector{Float64}, group1::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, group2::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, treatment::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}, binary_var::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, vars::Vector{Symbol}, scenarios::Nothing, groups::Symbol, weights::Nothing; type::Symbol, scale::Symbol, backend::Symbol)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:51
    [4] population_margins(model::StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, LinearAlgebra.CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Symbol, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:150
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:95 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:95 [inlined]
    [8] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [9] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_grouping.jl:7
   [10] include(fname::String)
      @ Main ./sysimg.jl:38
   [11] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:22 [inlined]
   [12] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [13] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [14] include(fname::String)
      @ Main ./sysimg.jl:38
   [15] top-level scope
      @ none:6
   [16] eval
      @ ./boot.jl:430 [inlined]
   [17] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [18] _start()
      @ Base ./client.jl:531
Categorical marginal effects: Test Failed at /Users/emf/.julia/dev/Margins/test/core/test_contrasts.jl:25
  Expression: "cat_var" in (DataFrame(cat_effects)).term
   Evaluated: "cat_var" in ["cat_var: Low vs High", "cat_var: Medium vs High"]

Stacktrace:
 [1] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:679 [inlined]
 [2] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_contrasts.jl:25 [inlined]
 [3] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [4] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_contrasts.jl:20 [inlined]
 [5] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [6] top-level scope
   @ ~/.julia/dev/Margins/test/core/test_contrasts.jl:7
Binary categorical effects: Test Failed at /Users/emf/.julia/dev/Margins/test/core/test_contrasts.jl:35
  Expression: "binary_var" in (DataFrame(binary_effects)).term
   Evaluated: "binary_var" in ["binary_var: Yes vs No"]

Stacktrace:
 [1] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:679 [inlined]
 [2] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_contrasts.jl:35 [inlined]
 [3] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [4] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_contrasts.jl:30 [inlined]
 [5] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [6] top-level scope
   @ ~/.julia/dev/Margins/test/core/test_contrasts.jl:7
Mixed variable types: Test Failed at /Users/emf/.julia/dev/Margins/test/core/test_contrasts.jl:46
  Expression: any(contains.("cat_var", (DataFrame(mixed_effects)).term))

Stacktrace:
 [1] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:679 [inlined]
 [2] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_contrasts.jl:46 [inlined]
 [3] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [4] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_contrasts.jl:40 [inlined]
 [5] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [6] top-level scope
   @ ~/.julia/dev/Margins/test/core/test_contrasts.jl:7
Data type compatibility: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_errors.jl:67
  Got exception outside of a @test
  ArgumentError: Could not find categorical variable z in model formula terms. Ensure the variable is categorical and present in the model.
  Stacktrace:
    [1] _get_baseline_level(model::StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, var::Symbol)
      @ FormulaCompiler ~/.julia/dev/FormulaCompiler/src/core/utilities.jl:459
    [2] compute_profile_categorical_contrast(engine::Margins.MarginsEngine{IdentityLink}, profile::Dict{Symbol, Float64}, var::Symbol, scale::Symbol; backend::Symbol)
      @ Margins ~/.julia/dev/Margins/src/profile/contrasts.jl:62
    [3] compute_profile_categorical_contrast
      @ ~/.julia/dev/Margins/src/profile/contrasts.jl:54 [inlined]
    [4] _compute_row_specific_baseline_contrast(engine::Margins.MarginsEngine{IdentityLink}, refgrid_de::FormulaCompiler.DerivativeEvaluator{Float64, Tuple{FormulaCompiler.ConstantOp{1.0, 1}, FormulaCompiler.LoadOp{:x, 2}, FormulaCompiler.LoadOp{:z, 3}, FormulaCompiler.CopyOp{1, 1}, FormulaCompiler.CopyOp{2, 2}, FormulaCompiler.CopyOp{3, 3}}, 3, 3, @NamedTuple{x::Vector{Float64}, y::Vector{Float64}, z::Vector{Float64}}, @NamedTuple{x::FormulaCompiler.FDOverrideVector, y::Vector{Float64}, z::Vector{Float64}}, 1, Tuple{FormulaCompiler.FDOverrideVector}, FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}, ForwardDiff.JacobianConfig{ForwardDiff.Tag{FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}, Float64}, Float64, 1, Vector{ForwardDiff.Dual{ForwardDiff.Tag{FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}, Float64}, Float64, 1}}}, FormulaCompiler.GradClosure{FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}}, ForwardDiff.GradientConfig{ForwardDiff.Tag{FormulaCompiler.GradClosure{FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}}, Float64}, Float64, 1, Vector{ForwardDiff.Dual{ForwardDiff.Tag{FormulaCompiler.GradClosure{FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}}, Float64}, Float64, 1}}}, DiffResults.MutableDiffResult{1, Vector{Float64}, Tuple{Matrix{Float64}}}, DiffResults.MutableDiffResult{1, Float64, Tuple{Vector{Float64}}}, @NamedTuple{x::FormulaCompiler.TypedSingleRowOverrideVector{ForwardDiff.Dual{Nothing, Float64, 1}}, y::Vector{Float64}, z::Vector{Float64}}, Vector{FormulaCompiler.TypedSingleRowOverrideVector{ForwardDiff.Dual{Nothing, Float64, 1}}}}, profile::Dict{Symbol, Float64}, var::Symbol, scale::Symbol, backend::Symbol)
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:1466
    [5] _mem_continuous_and_categorical_refgrid(engine::Margins.MarginsEngine{IdentityLink}, reference_grid::DataFrame; scale::Symbol, backend::Symbol, measure::Symbol)
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:1642
    [6] _profile_margins(model::StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data_nt::@NamedTuple{y::Vector{Float64}, x::Vector{Int64}, z::Vector{Bool}}, reference_grid::DataFrame, type::Symbol, vars::Nothing, scale::Symbol, backend::Symbol, measure::Symbol, vcov::typeof(vcov), at_spec::DataFrame, ci_alpha::Float64)
      @ Margins ~/.julia/dev/Margins/src/profile/core.jl:169
    [7] profile_margins(model::StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame, reference_grid::DataFrame; type::Symbol, vars::Nothing, scale::Symbol, backend::Symbol, measure::Symbol, ci_alpha::Float64, vcov::Function)
      @ Margins ~/.julia/dev/Margins/src/profile/core.jl:301
    [8] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:76 [inlined]
    [9] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [10] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:68 [inlined]
   [11] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [12] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:10
   [13] include(fname::String)
      @ Main ./sysimg.jl:38
   [14] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:25 [inlined]
   [15] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [16] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [17] include(fname::String)
      @ Main ./sysimg.jl:38
   [18] top-level scope
      @ none:6
   [19] eval
      @ ./boot.jl:430 [inlined]
   [20] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [21] _start()
      @ Base ./client.jl:531
Acceptable combination counts: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_errors.jl:190
  Got exception outside of a @test
  UndefVarError: `_accumulate_me_value` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _compute_continuous_ame_context(engine::Margins.MarginsEngine{IdentityLink}, var::Symbol, context_data::@NamedTuple{y::Vector{Float64}, x::Vector{Float64}, group1::CategoricalVector{Int64, UInt32, Int64, CategoricalValue{Int64, UInt32}, Union{}}}, context_indices::Vector{Int64}, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:595
    [2] _compute_population_effect_in_context(engine::Margins.MarginsEngine{IdentityLink}, context_data::@NamedTuple{y::Vector{Float64}, x::Vector{Float64}, group1::CategoricalVector{Int64, UInt32, Int64, CategoricalValue{Int64, UInt32}, Union{}}}, context_indices::Vector{Int64}, var::Symbol, scale::Symbol, backend::Symbol, weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:541
    [3] _population_margins_with_contexts(engine::Margins.MarginsEngine{IdentityLink}, data_nt::@NamedTuple{y::Vector{Float64}, x::Vector{Float64}, group1::CategoricalVector{Int64, UInt32, Int64, CategoricalValue{Int64, UInt32}, Union{}}}, vars::Vector{Symbol}, scenarios::Nothing, groups::Symbol, weights::Nothing; type::Symbol, scale::Symbol, backend::Symbol)
      @ Margins ~/.julia/dev/Margins/src/population/contexts.jl:51
    [4] population_margins(model::StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Nothing, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Symbol, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Nothing)
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:150
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:200 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:192 [inlined]
    [8] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [9] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:150 [inlined]
   [10] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [11] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:10
   [12] include(fname::String)
      @ Main ./sysimg.jl:38
   [13] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:25 [inlined]
   [14] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [15] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [16] include(fname::String)
      @ Main ./sysimg.jl:38
   [17] top-level scope
      @ none:6
   [18] eval
      @ ./boot.jl:430 [inlined]
   [19] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [20] _start()
      @ Base ./client.jl:531
Critical fix: old gradient format fallback removed: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_errors.jl:275
  Got exception outside of a @test
  ArgumentError: Could not find categorical variable group in model formula terms. Ensure the variable is categorical and present in the model.
  Stacktrace:
    [1] _get_baseline_level(model::StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, var::Symbol)
[ Info: Buffer allocation fallback: g_buf too small for 3 profiles (size=1)
[ Info: Buffer allocation fallback: g_buf too small for 3 profiles (size=1)
[ Info: Buffer allocation fallback: g_buf too small for 3 profiles (size=1)
[ Info: Buffer allocation fallback: g_buf too small for 2 profiles (size=1)
[ Info: Buffer allocation fallback: g_buf too small for 3 profiles (size=1)
Minimizing 2    Time: 0:00:00 ( 0.14  s/it)[K
   objective: 126.3474937319155[K[A
[K[AMinimizing 73    Time: 0:00:00 ( 4.41 ms/it)[K
      @ FormulaCompiler ~/.julia/dev/FormulaCompiler/src/core/utilities.jl:459
    [2] compute_profile_categorical_contrast(engine::Margins.MarginsEngine{IdentityLink}, profile::Dict{Symbol, Any}, var::Symbol, scale::Symbol; backend::Symbol)
      @ Margins ~/.julia/dev/Margins/src/profile/contrasts.jl:62
    [3] compute_profile_categorical_contrast
      @ ~/.julia/dev/Margins/src/profile/contrasts.jl:54 [inlined]
    [4] _compute_row_specific_baseline_contrast(engine::Margins.MarginsEngine{IdentityLink}, refgrid_de::FormulaCompiler.DerivativeEvaluator{Float64, Tuple{FormulaCompiler.ConstantOp{1.0, 1}, FormulaCompiler.LoadOp{:x, 2}, FormulaCompiler.CopyOp{1, 1}, FormulaCompiler.CopyOp{2, 2}}, 2, 2, @NamedTuple{group::Vector{CategoricalMixture{Any}}, x::Vector{Float64}, y::Vector{Float64}}, @NamedTuple{group::Vector{CategoricalMixture{Any}}, x::FormulaCompiler.FDOverrideVector, y::Vector{Float64}}, 1, Tuple{FormulaCompiler.FDOverrideVector}, FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}, ForwardDiff.JacobianConfig{ForwardDiff.Tag{FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}, Float64}, Float64, 1, Vector{ForwardDiff.Dual{ForwardDiff.Tag{FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}, Float64}, Float64, 1}}}, FormulaCompiler.GradClosure{FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}}, ForwardDiff.GradientConfig{ForwardDiff.Tag{FormulaCompiler.GradClosure{FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}}, Float64}, Float64, 1, Vector{ForwardDiff.Dual{ForwardDiff.Tag{FormulaCompiler.GradClosure{FormulaCompiler.DerivClosure{FormulaCompiler.DerivativeEvaluator}}, Float64}, Float64, 1}}}, DiffResults.MutableDiffResult{1, Vector{Float64}, Tuple{Matrix{Float64}}}, DiffResults.MutableDiffResult{1, Float64, Tuple{Vector{Float64}}}, @NamedTuple{group::Vector{CategoricalMixture{Any}}, x::FormulaCompiler.TypedSingleRowOverrideVector{ForwardDiff.Dual{Nothing, Float64, 1}}, y::Vector{Float64}}, Vector{FormulaCompiler.TypedSingleRowOverrideVector{ForwardDiff.Dual{Nothing, Float64, 1}}}}, profile::Dict{Symbol, Any}, var::Symbol, scale::Symbol, backend::Symbol)
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:1466
    [5] _mem_continuous_and_categorical_refgrid(engine::Margins.MarginsEngine{IdentityLink}, reference_grid::DataFrame; scale::Symbol, backend::Symbol, measure::Symbol)
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:1642
    [6] _profile_margins(model::StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data_nt::@NamedTuple{y::Vector{Float64}, x::Vector{Float64}, group::CategoricalVector{String, UInt32, String, CategoricalValue{String, UInt32}, Union{}}}, reference_grid::DataFrame, type::Symbol, vars::Nothing, scale::Symbol, backend::Symbol, measure::Symbol, vcov::typeof(vcov), at_spec::DataFrame, ci_alpha::Float64)
      @ Margins ~/.julia/dev/Margins/src/profile/core.jl:169
    [7] profile_margins(model::StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame, reference_grid::DataFrame; type::Symbol, vars::Nothing, scale::Symbol, backend::Symbol, measure::Symbol, ci_alpha::Float64, vcov::Function)
      @ Margins ~/.julia/dev/Margins/src/profile/core.jl:301
    [8] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:300 [inlined]
    [9] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [10] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:291 [inlined]
   [11] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [12] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:273 [inlined]
   [13] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [14] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_errors.jl:10
   [15] include(fname::String)
      @ Main ./sysimg.jl:38
   [16] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:25 [inlined]
   [17] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [18] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [19] include(fname::String)
      @ Main ./sysimg.jl:38
   [20] top-level scope
      @ none:6
   [21] eval
      @ ./boot.jl:430 [inlined]
   [22] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [23] _start()
      @ Base ./client.jl:531
Continuous dependent variable should be excluded: Test Failed at /Users/emf/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:29
  Expression: nrow(df_result) == 2
   Evaluated: 3 == 2

Stacktrace:
 [1] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:679 [inlined]
 [2] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:29 [inlined]
 [3] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [4] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:15 [inlined]
 [5] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [6] top-level scope
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:11
Mixed variable types with automatic detection: Test Failed at /Users/emf/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:72
  Expression: nrow(df_result) == 2
   Evaluated: 5 == 2

Stacktrace:
 [1] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:679 [inlined]
 [2] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:72 [inlined]
 [3] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [4] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:58 [inlined]
 [5] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [6] top-level scope
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:11
Mixed variable types with automatic detection: Test Failed at /Users/emf/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:76
  Expression: "available" ∉ df_result.term
   Evaluated: "available" ∉ ["price", "quantity", "available", "category: Y vs X", "category: Z vs X"]

Stacktrace:
 [1] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:679 [inlined]
 [2] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:76 [inlined]
 [3] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [4] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:58 [inlined]
 [5] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [6] top-level scope
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:11
All categorical explanatory variables: Test Failed at /Users/emf/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:91
  Expression: population_margins(model, df; type = :effects)
    Expected: Margins.MarginsError
  No exception thrown

Stacktrace:
 [1] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:91 [inlined]
 [2] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [3] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:81 [inlined]
 [4] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [5] top-level scope
   @ ~/.julia/dev/Margins/test/core/test_automatic_variable_detection.jl:11
Scenario 14: GLMM logistic random intercept on cbpp: Test Failed at /Users/emf/.julia/dev/Margins/test/core/test_mixedmodels.jl:107
  Expression: size(df_result, 1) == 1
   Evaluated: 3 == 1

Stacktrace:
 [1] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:679 [inlined]
 [2] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_mixedmodels.jl:107 [inlined]
 [3] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [4] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_mixedmodels.jl:98 [inlined]
 [5] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [6] top-level scope
   @ ~/.julia/dev/Margins/test/core/test_mixedmodels.jl:32
Scenario 14: GLMM logistic random intercept on cbpp: Test Failed at /Users/emf/.julia/dev/Margins/test/core/test_mixedmodels.jl:108
  Expression: df_result.term[1] == "Period"
   Evaluated: "Period: 4 vs 1" == "Period"

Stacktrace:
 [1] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:679 [inlined]
 [2] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_mixedmodels.jl:108 [inlined]
 [3] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [4] macro expansion
   @ ~/.julia/dev/Margins/test/core/test_mixedmodels.jl:98 [inlined]
 [5] macro expansion
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
 [6] top-level scope
   @ ~/.julia/dev/Margins/test/core/test_mixedmodels.jl:32
Weight Parameter Validation: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_weights.jl:5
  Got exception outside of a @test
  UndefVarError: `ame_val` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _ame_continuous_and_categorical(engine::Margins.MarginsEngine{IdentityLink}, data_nt::@NamedTuple{y::Vector{Float64}, x1::Vector{Float64}, x2::Vector{Float64}, sampling_weight::Vector{Float64}, zero_weights::Vector{Float64}, negative_weights::Vector{Float64}}; scale::Symbol, backend::Symbol, measure::Symbol, contrasts::Symbol, weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:794
    [2] population_margins(model::StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Nothing, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:154
    [3] (::var"#85#93"{StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, DataFrame})()
      @ Main ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:924
    [4] (::Base.RedirectStdStream)(thunk::var"#85#93"{StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, DataFrame}, stream::IOStream)
      @ Base ./stream.jl:1464
    [5] #84
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:923 [inlined]
    [6] open(::var"#84#92"{StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, DataFrame}, ::String, ::Vararg{String}; kwargs::@Kwargs{})
      @ Base ./io.jl:410
    [7] open(::Function, ::String, ::String)
      @ Base ./io.jl:407
    [8] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:922 [inlined]
    [9] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:24 [inlined]
   [10] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [11] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:6 [inlined]
   [12] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [13] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:5
   [14] include(fname::String)
      @ Main ./sysimg.jl:38
   [15] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:28 [inlined]
   [16] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [17] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [18] include(fname::String)
      @ Main ./sysimg.jl:38
   [19] top-level scope
      @ none:6
   [20] eval
      @ ./boot.jl:430 [inlined]
   [21] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [22] _start()
      @ Base ./client.jl:531
Weighted vs Unweighted Results - Linear Model: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_weights.jl:36
  Got exception outside of a @test
  UndefVarError: `ame_val` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _ame_continuous_and_categorical(engine::Margins.MarginsEngine{IdentityLink}, data_nt::@NamedTuple{y::Vector{Float64}, x1::Vector{Float64}, x2::Vector{Float64}, weights_uniform::Vector{Float64}, weights_nonuniform::Vector{Float64}}; scale::Symbol, backend::Symbol, measure::Symbol, contrasts::Symbol, weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:794
    [2] population_margins(model::StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Nothing, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:154
    [3] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:55 [inlined]
    [4] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:38 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:5
    [8] include(fname::String)
      @ Main ./sysimg.jl:38
    [9] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:28 [inlined]
   [10] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [11] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [12] include(fname::String)
      @ Main ./sysimg.jl:38
   [13] top-level scope
      @ none:6
   [14] eval
      @ ./boot.jl:430 [inlined]
   [15] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [16] _start()
      @ Base ./client.jl:531
Weighted vs Unweighted Results - GLM Model: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_weights.jl:79
  Got exception outside of a @test
  UndefVarError: `ame_val` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _ame_continuous_and_categorical(engine::Margins.MarginsEngine{LogitLink}, data_nt::@NamedTuple{x1::Vector{Float64}, x2::Vector{Float64}, y_binary::BitVector, weights_uniform::Vector{Float64}, weights_skewed::Vector{Float64}}; scale::Symbol, backend::Symbol, measure::Symbol, contrasts::Symbol, weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:794
    [2] population_margins(model::StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Nothing, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:154
    [3] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:100 [inlined]
    [4] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:81 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:5
    [8] include(fname::String)
      @ Main ./sysimg.jl:38
    [9] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:28 [inlined]
   [10] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [11] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [12] include(fname::String)
      @ Main ./sysimg.jl:38
   [13] top-level scope
      @ none:6
   [14] eval
      @ ./boot.jl:430 [inlined]
   [15] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [16] _start()
      @ Base ./client.jl:531
Weighted Results - Extreme Weights: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_weights.jl:124
  Got exception outside of a @test
  UndefVarError: `ame_val` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _ame_continuous_and_categorical(engine::Margins.MarginsEngine{LogitLink}, data_nt::@NamedTuple{x1::Vector{Float64}, x2::Vector{Float64}, y_binary::BitVector}; scale::Symbol, backend::Symbol, measure::Symbol, contrasts::Symbol, weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:794
    [2] population_margins(model::StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Nothing, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:154
    [3] population_margins
      @ ~/.julia/dev/Margins/src/population/core.jl:120 [inlined]
    [4] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:141 [inlined]
    [5] #91
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:924 [inlined]
    [6] (::Base.RedirectStdStream)(thunk::var"#91#99"{Vector{Float64}, StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, DataFrame}, stream::IOStream)
      @ Base ./stream.jl:1464
    [7] #90
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:923 [inlined]
    [8] open(::var"#90#98"{Vector{Float64}, StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, DataFrame}, ::String, ::Vararg{String}; kwargs::@Kwargs{})
      @ Base ./io.jl:410
    [9] open(::Function, ::String, ::String)
      @ Base ./io.jl:407
   [10] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:922 [inlined]
   [11] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:140 [inlined]
   [12] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [13] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:125 [inlined]
   [14] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [15] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:5
   [16] include(fname::String)
      @ Main ./sysimg.jl:38
   [17] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:28 [inlined]
   [18] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [19] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [20] include(fname::String)
      @ Main ./sysimg.jl:38
   [21] top-level scope
      @ none:6
   [22] eval
      @ ./boot.jl:430 [inlined]
   [23] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [24] _start()
      @ Base ./client.jl:531
Weighted Results - Both Effects and Predictions: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_weights.jl:159
  Got exception outside of a @test
  UndefVarError: `ame_val` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _ame_continuous_and_categorical(engine::Margins.MarginsEngine{LogitLink}, data_nt::@NamedTuple{x1::Vector{Float64}, x2::Vector{Float64}, y_binary::BitVector, survey_weights::Vector{Float64}}; scale::Symbol, backend::Symbol, measure::Symbol, contrasts::Symbol, weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:794
    [2] population_margins(model::StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Nothing, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:154
    [3] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:172 [inlined]
    [4] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:160 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:5
    [8] include(fname::String)
      @ Main ./sysimg.jl:38
    [9] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:28 [inlined]
   [10] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [11] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [12] include(fname::String)
      @ Main ./sysimg.jl:38
   [13] top-level scope
      @ none:6
   [14] eval
      @ ./boot.jl:430 [inlined]
   [15] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [16] _start()
      @ Base ./client.jl:531
Weighted Gradients - Statistical Correctness: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_weights.jl:195
  Got exception outside of a @test
  UndefVarError: `ame_val` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _ame_continuous_and_categorical(engine::Margins.MarginsEngine{LogitLink}, data_nt::@NamedTuple{x1::Vector{Float64}, x2::Vector{Float64}, y::BitVector, weights::Vector{Float64}}; scale::Symbol, backend::Symbol, measure::Symbol, contrasts::Symbol, weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:794
    [2] population_margins(model::StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Nothing, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:154
    [3] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:212 [inlined]
    [4] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:197 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:5
    [8] include(fname::String)
      @ Main ./sysimg.jl:38
    [9] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:28 [inlined]
   [10] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [11] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [12] include(fname::String)
      @ Main ./sysimg.jl:38
   [13] top-level scope
      @ none:6
   [14] eval
      @ ./boot.jl:430 [inlined]
   [15] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [16] _start()
      @ Base ./client.jl:531
Weight Column Reference: Error During Test at /Users/emf/.julia/dev/Margins/test/core/test_weights.jl:236
  Got exception outside of a @test
  UndefVarError: `ame_val` not defined in `Margins`
  Suggestion: check for spelling errors or missing imports.
  Stacktrace:
    [1] _ame_continuous_and_categorical(engine::Margins.MarginsEngine{LogitLink}, data_nt::@NamedTuple{y::Vector{Float64}, x1::Vector{Float64}, sampling_wt::Vector{Float64}, y_binary::BitVector}; scale::Symbol, backend::Symbol, measure::Symbol, contrasts::Symbol, weights::Vector{Float64})
      @ Margins ~/.julia/dev/Margins/src/engine/utilities.jl:794
    [2] population_margins(model::StatsModels.TableRegressionModel{GeneralizedLinearModel{GLM.GlmResp{Vector{Float64}, Binomial{Float64}, LogitLink}, GLM.DensePredChol{Float64, CholeskyPivoted{Float64, Matrix{Float64}, Vector{Int64}}}}, Matrix{Float64}}, data::DataFrame; type::Symbol, vars::Vector{Symbol}, scale::Symbol, backend::Symbol, scenarios::Nothing, groups::Nothing, measure::Symbol, contrasts::Symbol, ci_alpha::Float64, vcov::typeof(vcov), weights::Symbol)
      @ Margins ~/.julia/dev/Margins/src/population/core.jl:154
    [3] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:249 [inlined]
    [4] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [5] macro expansion
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:238 [inlined]
    [6] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
    [7] top-level scope
      @ ~/.julia/dev/Margins/test/core/test_weights.jl:5
    [8] include(fname::String)
      @ Main ./sysimg.jl:38
    [9] macro expansion
      @ ~/.julia/dev/Margins/test/runtests.jl:28 [inlined]
   [10] macro expansion
      @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Test/src/Test.jl:1704 [inlined]
   [11] top-level scope
      @ ~/.julia/dev/Margins/test/runtests.jl:20
   [12] include(fname::String)
      @ Main ./sysimg.jl:38
   [13] top-level scope
      @ none:6
   [14] eval
      @ ./boot.jl:430 [inlined]
   [15] exec_options(opts::Base.JLOptions)
      @ Base ./client.jl:296
   [16] _start()
      @ Base ./client.jl:531
Test Summary:                                               | Pass  Fail  Error  Total   Time
Core Functionality                                          |  118     9     15    142  47.7s
  GLM basics: Population and Profile Margins                |   16                  16   9.2s
  Profile margins reference grid semantics                  |    7                   7   1.4s
  Grouping functionality                                    |   20            5     25   3.9s
    Simple categorical groups                               |    2            1      3   2.2s
    Multiple categorical groups                             |                 1      1   0.1s
    Continuous groups (quartiles)                           |                 1      1   0.3s
    Nested groups                                           |                 1      1   0.1s
    Groups with predictions                                 |    4                   4   0.3s
    Categorical effects with simple grouping                |    4                   4   0.3s
    Categorical effects with multiple groups                |    5                   5   0.1s
    Mixed continuous and categorical effects with grouping  |                 1      1   0.0s
    Categorical effects with nested grouping                |    5                   5   0.0s
  Categorical contrasts                                     |    9     3            12   1.4s
    Categorical marginal effects                            |    2     1             3   0.7s
    Binary categorical effects                              |    2     1             3   0.0s
    Mixed variable types                                    |    3     1             4   0.4s
    Contrasts parameter                                     |    2                   2   0.0s
  Covariance matrix handling                                |   15                  15   3.0s
  Error handling and input validation                       |   21            3     24   6.1s
    Invalid type parameter                                  |    2                   2   0.1s
    Deprecated target parameter rejection                   |    1                   1   0.0s
    Invalid scale parameter                                 |    1                   1   0.0s
    Empty vars parameter                                    |    1                   1   0.0s
    Invalid variable names                                  |    1                   1   0.0s
    Mismatched model and data                               |    1                   1   0.2s
    Invalid reference grid                                  |    1                   1   0.7s
    Data type compatibility                                 |                 1      1   1.2s
    Unsupported data types explicit errors                  |    5                   5   1.0s
    Resource limit enforcement explicit errors              |    2            1      3   1.8s
      Moderate combination limit (>250)                     |    1                   1   0.9s
      High combination limit (>1000)                        |    1                   1   0.0s
      Acceptable combination counts                         |                 1      1   0.8s
ERROR: LoadError: Some tests did not pass: 118 passed, 9 failed, 15 errored, 0 broken.
in expression starting at /Users/emf/.julia/dev/Margins/test/runtests.jl:19
    DataFrame structure validation explicit errors          |    6                   6   0.2s
    Gradient format validation explicit errors              |                 1      1   0.9s
      Critical fix: old gradient format fallback removed    |                 1      1   0.9s
  Automatic Variable Detection                              |   19     4            23   5.3s
    Continuous dependent variable should be excluded        |    4     1             5   0.7s
    Profile margins with automatic detection                |    4                   4   0.9s
    Mixed variable types with automatic detection           |    4     2             6   1.3s
    All categorical explanatory variables                   |          1             1   0.7s
    Explicit vars parameter bypasses automatic detection    |    3                   3   0.3s
    Standard error consistency after fix                    |    4                   4   1.3s
  MixedModels Integration Tests                             |   11     2            13   8.7s
    Scenario 11: LMM random intercept only                  |    2                   2   2.8s
    Scenario 12: LMM random slope on Days                   |    2                   2   0.2s
    Scenario 13: LMM with transformation + random intercept |    2                   2   1.4s
    Scenario 14: GLMM logistic random intercept on cbpp     |    3     2             5   2.1s
    Scenario 15: GLMM logistic synthetic random intercept   |    2                   2   2.1s
  Observation Weights                                       |                 7      7   5.5s
    Weight Parameter Validation                             |                 1      1   0.8s
    Weighted vs Unweighted Results - Linear Model           |                 1      1   0.7s
    Weighted vs Unweighted Results - GLM Model              |                 1      1   1.0s
    Weighted Results - Extreme Weights                      |                 1      1   0.7s
    Weighted Results - Both Effects and Predictions         |                 1      1   0.7s
    Weighted Gradients - Statistical Correctness            |                 1      1   0.8s
    Weight Column Reference                                 |                 1      1   1.0s
ERROR: Package Margins errored during testing
Stacktrace:
 [1] pkgerror(msg::String)
   @ Pkg.Types ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Pkg/src/Types.jl:68
 [2] test(ctx::Pkg.Types.Context, pkgs::Vector{Pkg.Types.PackageSpec}; coverage::Bool, julia_args::Cmd, test_args::Cmd, test_fn::Nothing, force_latest_compatible_version::Bool, allow_earlier_backwards_compatible_versions::Bool, allow_reresolve::Bool)
   @ Pkg.Operations ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Pkg/src/Operations.jl:2111
 [3] test
   @ ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Pkg/src/Operations.jl:1996 [inlined]
 [4] test(ctx::Pkg.Types.Context, pkgs::Vector{Pkg.Types.PackageSpec}; coverage::Bool, test_fn::Nothing, julia_args::Cmd, test_args::Cmd, force_latest_compatible_version::Bool, allow_earlier_backwards_compatible_versions::Bool, allow_reresolve::Bool, kwargs::@Kwargs{io::IOContext{IO}})
   @ Pkg.API ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Pkg/src/API.jl:475
 [5] test(pkgs::Vector{Pkg.Types.PackageSpec}; io::IOContext{IO}, kwargs::@Kwargs{})
   @ Pkg.API ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Pkg/src/API.jl:159
 [6] test(pkgs::Vector{Pkg.Types.PackageSpec})
   @ Pkg.API ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Pkg/src/API.jl:148
 [7] test(; name::Nothing, uuid::Nothing, version::Nothing, url::Nothing, rev::Nothing, path::Nothing, mode::Pkg.Types.PackageMode, subdir::Nothing, kwargs::@Kwargs{})
   @ Pkg.API ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Pkg/src/API.jl:174
 [8] test()
   @ Pkg.API ~/.julia/juliaup/julia-1.11.2+0.aarch64.apple.darwin14/share/julia/stdlib/v1.11/Pkg/src/API.jl:165
 [9] top-level scope
   @ none:1
