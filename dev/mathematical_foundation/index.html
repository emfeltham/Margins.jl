<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Mathematical Foundation · Margins.jl</title><meta name="title" content="Mathematical Foundation · Margins.jl"/><meta property="og:title" content="Mathematical Foundation · Margins.jl"/><meta property="twitter:title" content="Mathematical Foundation · Margins.jl"/><meta name="description" content="Documentation for Margins.jl."/><meta property="og:description" content="Documentation for Margins.jl."/><meta property="twitter:description" content="Documentation for Margins.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Margins.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li class="is-active"><a class="tocitem" href>Mathematical Foundation</a><ul class="internal"><li><a class="tocitem" href="#Unified-Framework-for-Marginal-Effects-Analysis"><span>Unified Framework for Marginal Effects Analysis</span></a></li><li><a class="tocitem" href="#Cross-Disciplinary-Terminological-Unification"><span>Cross-Disciplinary Terminological Unification</span></a></li><li><a class="tocitem" href="#Formal-Mathematical-Specification"><span>Formal Mathematical Specification</span></a></li><li><a class="tocitem" href="#Methodological-Inconsistencies-Across-Disciplines"><span>Methodological Inconsistencies Across Disciplines</span></a></li><li><a class="tocitem" href="#Statistical-vs-Causal-Interpretation"><span>Statistical vs Causal Interpretation</span></a></li><li><a class="tocitem" href="#When-Profile-Population"><span>When Profile ≠ Population</span></a></li><li><a class="tocitem" href="#Elasticities-and-Semi-Elasticities"><span>Elasticities and Semi-Elasticities</span></a></li><li><a class="tocitem" href="#Implementation-in-Margins.jl"><span>Implementation in Margins.jl</span></a></li><li><a class="tocitem" href="#Practical-Guidelines"><span>Practical Guidelines</span></a></li></ul></li><li><a class="tocitem" href="../computational_architecture/">Computational Architecture</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../reference_grids/">Reference Grids</a></li><li><a class="tocitem" href="../profile_margins/">Profile Analysis</a></li><li><a class="tocitem" href="../population_scenarios/">Population Scenarios</a></li><li><a class="tocitem" href="../weights/">Weights</a></li><li><a class="tocitem" href="../grouping/">Population Grouping</a></li><li><a class="tocitem" href="../backend_selection/">Backend Selection</a></li><li><a class="tocitem" href="../performance/">Performance Guide</a></li><li><a class="tocitem" href="../advanced/">Advanced Features</a></li></ul></li><li><a class="tocitem" href="../stata_migration/">Migration Guide</a></li><li><a class="tocitem" href="../comparison/">Package Comparison</a></li><li><a class="tocitem" href="../api/">API Reference</a></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Mathematical Foundation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Mathematical Foundation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/emfeltham/Margins.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/emfeltham/Margins.jl/" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Mathematical-Foundation"><a class="docs-heading-anchor" href="#Mathematical-Foundation">Mathematical Foundation</a><a id="Mathematical-Foundation-1"></a><a class="docs-heading-anchor-permalink" href="#Mathematical-Foundation" title="Permalink"></a></h1><p><em>Theoretical exposition of the analytical framework underlying marginal effects analysis</em></p><h2 id="Unified-Framework-for-Marginal-Effects-Analysis"><a class="docs-heading-anchor" href="#Unified-Framework-for-Marginal-Effects-Analysis">Unified Framework for Marginal Effects Analysis</a><a id="Unified-Framework-for-Marginal-Effects-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Unified-Framework-for-Marginal-Effects-Analysis" title="Permalink"></a></h2><p>The theoretical foundation of marginal effects analysis rests upon a systematic decomposition of the inferential problem into two fundamental analytical dimensions. This framework addresses the terminological inconsistencies that have historically impeded methodological clarity across econometric and statistical disciplines through the establishment of a unified conceptual structure.</p><p>The analytical framework distinguishes between two orthogonal methodological choices that completely characterize the space of marginal effects approaches. The evaluation context determines whether inference targets population-level parameters or profile-specific estimates, while the analytical target specifies whether the quantity of interest represents marginal effects or adjusted predictions.</p><h3 id="Complete-Methodological-Taxonomy"><a class="docs-heading-anchor" href="#Complete-Methodological-Taxonomy">Complete Methodological Taxonomy</a><a id="Complete-Methodological-Taxonomy-1"></a><a class="docs-heading-anchor-permalink" href="#Complete-Methodological-Taxonomy" title="Permalink"></a></h3><table><tr><th style="text-align: right"></th><th style="text-align: right"><strong>Effects Analysis</strong></th><th style="text-align: right"><strong>Predictions Analysis</strong></th></tr><tr><td style="text-align: right"><strong>Profile Context</strong></td><td style="text-align: right">Marginal Effects at Representative Scenarios</td><td style="text-align: right">Adjusted Predictions at Representative Scenarios</td></tr><tr><td style="text-align: right"><strong>Population Context</strong></td><td style="text-align: right">Average Marginal Effects</td><td style="text-align: right">Average Adjusted Predictions</td></tr></table><p>This taxonomic structure eliminates the ambiguity inherent in discipline-specific terminological conventions while preserving the essential methodological distinctions that govern appropriate analytical application.</p><h2 id="Cross-Disciplinary-Terminological-Unification"><a class="docs-heading-anchor" href="#Cross-Disciplinary-Terminological-Unification">Cross-Disciplinary Terminological Unification</a><a id="Cross-Disciplinary-Terminological-Unification-1"></a><a class="docs-heading-anchor-permalink" href="#Cross-Disciplinary-Terminological-Unification" title="Permalink"></a></h2><p>The proposed framework establishes a systematic correspondence between the established terminology employed across econometric, biostatistical, and computational disciplines. This mapping preserves the essential methodological content while eliminating the terminological inconsistencies that have impeded interdisciplinary communication and methodological clarity.</p><h3 id="Profile-Context-Methodologies"><a class="docs-heading-anchor" href="#Profile-Context-Methodologies">Profile Context Methodologies</a><a id="Profile-Context-Methodologies-1"></a><a class="docs-heading-anchor-permalink" href="#Profile-Context-Methodologies" title="Permalink"></a></h3><p>The profile evaluation context encompasses analytical approaches that evaluate marginal quantities at representative or theoretically motivated points in the covariate space. Traditional terminological variants include Marginal Effects at the Mean and Adjusted Predictions at the Mean, which are unified under the profile effects and profile predictions categories respectively.</p><h3 id="Population-Context-Methodologies"><a class="docs-heading-anchor" href="#Population-Context-Methodologies">Population Context Methodologies</a><a id="Population-Context-Methodologies-1"></a><a class="docs-heading-anchor-permalink" href="#Population-Context-Methodologies" title="Permalink"></a></h3><p>The population evaluation context encompasses approaches that compute marginal quantities averaged across the empirical distribution of observed covariates. This category unifies Average Marginal Effects, Average Partial Effects, and related population-averaged measures under a coherent methodological framework that emphasizes the distributional basis of the inference.</p><h2 id="Formal-Mathematical-Specification"><a class="docs-heading-anchor" href="#Formal-Mathematical-Specification">Formal Mathematical Specification</a><a id="Formal-Mathematical-Specification-1"></a><a class="docs-heading-anchor-permalink" href="#Formal-Mathematical-Specification" title="Permalink"></a></h2><h3 id="Marginal-Effects-and-Adjusted-Predictions"><a class="docs-heading-anchor" href="#Marginal-Effects-and-Adjusted-Predictions">Marginal Effects and Adjusted Predictions</a><a id="Marginal-Effects-and-Adjusted-Predictions-1"></a><a class="docs-heading-anchor-permalink" href="#Marginal-Effects-and-Adjusted-Predictions" title="Permalink"></a></h3><p><strong>Conceptual Foundation</strong>: Marginal effects quantify the expected change in an outcome variable resulting from a unit change in an explanatory variable, holding all other variables constant. This fundamental concept addresses the analytical question &quot;How does the dependent variable respond to marginal changes in specific covariates?&quot; The formal mathematical representation ∂E[Y|X]/∂X captures the instantaneous rate of change in the conditional expectation, providing a rigorous framework for quantifying covariate effects.</p><p>Marginal effects analysis concerns the derivative of the conditional expectation function with respect to the covariates of interest. For continuous covariates, this quantity is formally defined as ∂E[Y|X]/∂X, representing the instantaneous rate of change in the expected outcome with respect to marginal changes in the explanatory variable. The interpretation centers on the magnitude of response in the dependent variable per unit increase in the independent variable, with measurement units corresponding to the dependent variable scaled by the units of the explanatory variable.</p><p>Adjusted predictions represent the conditional expectation E[Y|X] evaluated at specified covariate configurations. This quantity provides the expected value of the outcome variable conditional on particular covariate realizations, maintaining the same units as the dependent variable. The analytical focus shifts from rates of change to levels of the outcome under specific conditioning scenarios.</p><h3 id="Evaluation-Context-Specifications"><a class="docs-heading-anchor" href="#Evaluation-Context-Specifications">Evaluation Context Specifications</a><a id="Evaluation-Context-Specifications-1"></a><a class="docs-heading-anchor-permalink" href="#Evaluation-Context-Specifications" title="Permalink"></a></h3><p><strong>Analytical Perspective</strong>: The choice between profile and population approaches reflects two different ways to approach marginal effects analysis. Profile analysis examines effects for representative individuals or scenarios (analogous to asking &quot;What happens for a typical 35-year-old college graduate?&quot;), while population analysis characterizes average effects across the entire sample distribution (analogous to asking &quot;What happens on average across all individuals in our dataset?&quot;). This distinction determines both the interpretive scope and the computational approach of the marginal effects analysis.</p><p>Profile approaches evaluate marginal quantities at predetermined points in the covariate space, most commonly at sample means X̄ or at theoretically motivated scenario specifications. This approach yields concrete, interpretable estimates for specific covariate combinations, facilitating clear communication of results and policy implications for particular demographic or economic profiles. The limitation lies in the potential lack of representativeness relative to the broader population distribution.</p><p>Population approaches compute marginal quantities averaged across the empirical distribution of observed covariates, weighting each observation according to its sample frequency. This methodology yields population-averaged parameters that reflect the heterogeneity present in the data generating process, providing estimates that characterize the broader population represented by the sample. The limitation concerns the potential difficulty in interpreting results that may not correspond to any particular individual or realistic scenario within the population.</p><h2 id="Methodological-Inconsistencies-Across-Disciplines"><a class="docs-heading-anchor" href="#Methodological-Inconsistencies-Across-Disciplines">Methodological Inconsistencies Across Disciplines</a><a id="Methodological-Inconsistencies-Across-Disciplines-1"></a><a class="docs-heading-anchor-permalink" href="#Methodological-Inconsistencies-Across-Disciplines" title="Permalink"></a></h2><p><strong>Why This Matters for Users</strong>: Different fields use related but slightly different terminology:</p><ul><li><strong>Economics</strong>: &quot;Average Marginal Effects&quot; (AME) - mean of individual-level derivatives</li><li><strong>Biostatistics</strong>: &quot;Average Partial Effects&quot; (APE) - often equivalent to AME, with some nuance for discrete variables</li><li><strong>Machine Learning</strong>: &quot;Partial Dependence&quot; - conceptually similar, typically in visualization contexts</li></ul><p>While these concepts overlap substantially, each field may have specific conventions for handling categorical variables or estimation approaches. This package provides a unified framework that works consistently across disciplines.</p><p>The absence of standardized terminological conventions across quantitative disciplines has generated substantial methodological confusion that impedes both theoretical development and practical implementation. This inconsistency manifests through the use of discipline-specific acronyms and conceptual frameworks that obscure the underlying mathematical equivalence of analytical approaches.</p><h3 id="Disciplinary-Terminological-Variations"><a class="docs-heading-anchor" href="#Disciplinary-Terminological-Variations">Disciplinary Terminological Variations</a><a id="Disciplinary-Terminological-Variations-1"></a><a class="docs-heading-anchor-permalink" href="#Disciplinary-Terminological-Variations" title="Permalink"></a></h3><p>Economics employs Marginal Effects at the Mean and Average Marginal Effects as primary analytical categories, while biostatistics utilizes Average Partial Effects to denote methodologically identical procedures. Machine learning contexts frequently employ &quot;partial effects&quot; as an umbrella term that may conflate distinct analytical approaches including SHAP values and traditional marginal effects. Statistical software packages compound these inconsistencies through accommodation of diverse terminological preferences across user communities.</p><h3 id="Fundamental-Methodological-Impediments"><a class="docs-heading-anchor" href="#Fundamental-Methodological-Impediments">Fundamental Methodological Impediments</a><a id="Fundamental-Methodological-Impediments-1"></a><a class="docs-heading-anchor-permalink" href="#Fundamental-Methodological-Impediments" title="Permalink"></a></h3><p>The proliferation of terminological variants generates several significant barriers to methodological advancement. Identical analytical concepts receive different nomenclature across disciplines, while the same terminological constructs may denote different methodological approaches in alternative contexts. The distinction between predictions and effects becomes obscured through inconsistent usage patterns, and the conceptual difference between evaluation at representative points versus population averaging receives inadequate attention.</p><p>These inconsistencies hamper reproducibility across research contexts, create unnecessary learning barriers for practitioners attempting to apply methods across disciplines, and impede productive interdisciplinary collaboration through the introduction of artificial communication barriers.</p><h2 id="Statistical-vs-Causal-Interpretation"><a class="docs-heading-anchor" href="#Statistical-vs-Causal-Interpretation">Statistical vs Causal Interpretation</a><a id="Statistical-vs-Causal-Interpretation-1"></a><a class="docs-heading-anchor-permalink" href="#Statistical-vs-Causal-Interpretation" title="Permalink"></a></h2><p><strong>Statistical vs Causal Interpretation</strong>: The same marginal effects computation supports both descriptive and causal analysis:</p><ul><li><strong>Descriptive</strong>: &quot;In our sample, education is associated with higher wages&quot; </li><li><strong>Causal</strong>: &quot;Education causes higher wages&quot; (requires identifying assumptions)</li></ul><p>The package provides statistically valid estimates; interpretation depends on research design and identifying assumptions.</p><p>The 2×2 framework applies equally to both descriptive and causal analysis. The mathematical operations are identical, but the interpretation differs:</p><h3 id="Descriptive-Interpretation-(Always-Valid)"><a class="docs-heading-anchor" href="#Descriptive-Interpretation-(Always-Valid)">Descriptive Interpretation (Always Valid)</a><a id="Descriptive-Interpretation-(Always-Valid)-1"></a><a class="docs-heading-anchor-permalink" href="#Descriptive-Interpretation-(Always-Valid)" title="Permalink"></a></h3><ul><li><strong>Question</strong>: &quot;How does Y vary with X in the observed data?&quot;</li><li><strong>Requirements</strong>: Only requires correct model specification</li><li><strong>Example</strong>: &quot;In our sample, each additional year of education is associated with 8% higher wages&quot;</li></ul><h3 id="Causal-Interpretation-(Requires-Additional-Assumptions)"><a class="docs-heading-anchor" href="#Causal-Interpretation-(Requires-Additional-Assumptions)">Causal Interpretation (Requires Additional Assumptions)</a><a id="Causal-Interpretation-(Requires-Additional-Assumptions)-1"></a><a class="docs-heading-anchor-permalink" href="#Causal-Interpretation-(Requires-Additional-Assumptions)" title="Permalink"></a></h3><ul><li><strong>Question</strong>: &quot;What would happen to Y if we intervened to change X?&quot;</li><li><strong>Requirements</strong>: Exogeneity, correct functional form, no omitted variables, etc.</li><li><strong>Example</strong>: &quot;Increasing education by one year would cause 8% higher wages&quot;</li></ul><p><strong>Important</strong>: The choice of profile vs population is orthogonal to causal identification. Both MEM and AME can be interpreted causally or descriptively, depending on research design.</p><h2 id="When-Profile-Population"><a class="docs-heading-anchor" href="#When-Profile-Population">When Profile ≠ Population</a><a id="When-Profile-Population-1"></a><a class="docs-heading-anchor-permalink" href="#When-Profile-Population" title="Permalink"></a></h2><p>The choice between profile and population approaches matters most when the link function is non-identity:</p><h3 id="Linear-Models-with-Identity-Link"><a class="docs-heading-anchor" href="#Linear-Models-with-Identity-Link">Linear Models with Identity Link</a><a id="Linear-Models-with-Identity-Link-1"></a><a class="docs-heading-anchor-permalink" href="#Linear-Models-with-Identity-Link" title="Permalink"></a></h3><ul><li><strong>Profile = Population</strong>: MEM = AME for effects (predictions differ only by constants)</li><li><strong>Practical implication</strong>: Choice mainly affects interpretation, not numerical results</li></ul><h3 id="GLMs-with-Non-Identity-Links"><a class="docs-heading-anchor" href="#GLMs-with-Non-Identity-Links">GLMs with Non-Identity Links</a><a id="GLMs-with-Non-Identity-Links-1"></a><a class="docs-heading-anchor-permalink" href="#GLMs-with-Non-Identity-Links" title="Permalink"></a></h3><ul><li><strong>Profile ≠ Population</strong>: All quantities can differ substantially</li><li><strong>With interactions</strong>: Profile vs Population can yield opposite conclusions  </li><li><strong>Heterogeneous samples</strong>: Larger differences between approaches</li></ul><h3 id="Example:-Logistic-Regression"><a class="docs-heading-anchor" href="#Example:-Logistic-Regression">Example: Logistic Regression</a><a id="Example:-Logistic-Regression-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-Logistic-Regression" title="Permalink"></a></h3><p>Consider education effects on probability of employment in a logistic model:</p><ul><li><strong>Profile (MEM)</strong>: &quot;For someone with average characteristics, +1 year education → +0.08 probability of employment&quot;</li><li><strong>Population (AME)</strong>: &quot;On average across the sample, +1 year education → +0.05 probability of employment&quot;</li></ul><p>The difference arises because the logistic function is nonlinear, so the derivative at the mean differs from the mean of derivatives.</p><p><em>For the computational implications of this choice, see <a href="../computational_architecture/">Computational Architecture</a> and <a href="../performance/">Performance Guide</a>.</em></p><h2 id="Elasticities-and-Semi-Elasticities"><a class="docs-heading-anchor" href="#Elasticities-and-Semi-Elasticities">Elasticities and Semi-Elasticities</a><a id="Elasticities-and-Semi-Elasticities-1"></a><a class="docs-heading-anchor-permalink" href="#Elasticities-and-Semi-Elasticities" title="Permalink"></a></h2><p>Elasticities are transformations of marginal effects that follow the same 2×2 framework:</p><h3 id="Definitions"><a class="docs-heading-anchor" href="#Definitions">Definitions</a><a id="Definitions-1"></a><a class="docs-heading-anchor-permalink" href="#Definitions" title="Permalink"></a></h3><ul><li><strong>Elasticity</strong>: % change in Y per % change in X = (∂Y/∂X) × (X/Y)</li><li><strong>Semi-elasticity (X)</strong>: % change in Y per unit change in X = (∂Y/∂X) × (1/Y)  </li><li><strong>Semi-elasticity (Y)</strong>: Unit change in Y per % change in X = (∂Y/∂X) × X</li></ul><h3 id="Framework-Application"><a class="docs-heading-anchor" href="#Framework-Application">Framework Application</a><a id="Framework-Application-1"></a><a class="docs-heading-anchor-permalink" href="#Framework-Application" title="Permalink"></a></h3><ul><li><strong>Profile elasticities</strong>: Calculate (∂Y/∂X) × (X̄/Ȳ) at representative values</li><li><strong>Population elasticities</strong>: Average (∂Y/∂X) × (Xᵢ/Yᵢ) across sample observations</li></ul><p>In GLMs with non-identity links, profile elasticity ≠ average elasticity, following the same logic as marginal effects.</p><p><em>For detailed elasticity examples and applications to policy analysis, see <a href="../advanced/">Advanced Features</a>.</em></p><h2 id="Implementation-in-Margins.jl"><a class="docs-heading-anchor" href="#Implementation-in-Margins.jl">Implementation in Margins.jl</a><a id="Implementation-in-Margins.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Implementation-in-Margins.jl" title="Permalink"></a></h2><p>The package implements this framework through two main functions:</p><h3 id="population_margins()"><a class="docs-heading-anchor" href="#population_margins()"><code>population_margins()</code></a><a id="population_margins()-1"></a><a class="docs-heading-anchor-permalink" href="#population_margins()" title="Permalink"></a></h3><p>Computes population-level analysis (AME/AAP equivalent):</p><pre><code class="language-julia hljs"># Population average marginal effects
population_margins(model, data; type=:effects)

# Population average predictions  
population_margins(model, data; type=:predictions)

# Population average elasticities
population_margins(model, data; type=:effects, measure=:elasticity)</code></pre><h3 id="profile_margins()"><a class="docs-heading-anchor" href="#profile_margins()"><code>profile_margins()</code></a><a id="profile_margins()-1"></a><a class="docs-heading-anchor-permalink" href="#profile_margins()" title="Permalink"></a></h3><p>Computes profile analysis (MEM/APM equivalent):</p><pre><code class="language-julia hljs"># Effects at sample means
profile_margins(model, data, means_grid(data); type=:effects)

# Effects at specific scenarios
age_grid = cartesian_grid(age=[25, 45, 65])
profile_margins(model, data, age_grid; type=:effects)

# Predictions at representative points
profile_margins(model, data, means_grid(data); type=:predictions)</code></pre><h2 id="Practical-Guidelines"><a class="docs-heading-anchor" href="#Practical-Guidelines">Practical Guidelines</a><a id="Practical-Guidelines-1"></a><a class="docs-heading-anchor-permalink" href="#Practical-Guidelines" title="Permalink"></a></h2><h3 id="Choose-Profile-When:"><a class="docs-heading-anchor" href="#Choose-Profile-When:">Choose Profile When:</a><a id="Choose-Profile-When:-1"></a><a class="docs-heading-anchor-permalink" href="#Choose-Profile-When:" title="Permalink"></a></h3><ul><li>Understanding specific, concrete scenarios</li><li>Communicating results to non-technical audiences  </li><li>Sample is relatively homogeneous</li><li>Policy targets specific demographic profiles</li></ul><h3 id="Choose-Population-When:"><a class="docs-heading-anchor" href="#Choose-Population-When:">Choose Population When:</a><a id="Choose-Population-When:-1"></a><a class="docs-heading-anchor-permalink" href="#Choose-Population-When:" title="Permalink"></a></h3><ul><li>Estimating true population parameters</li><li>Heterogeneity across sample is important</li><li>Broad policy applications affecting diverse groups</li><li>External validity to similar populations is goal</li></ul><h3 id="The-Trade-off"><a class="docs-heading-anchor" href="#The-Trade-off">The Trade-off</a><a id="The-Trade-off-1"></a><a class="docs-heading-anchor-permalink" href="#The-Trade-off" title="Permalink"></a></h3><ul><li><strong>Profile approaches</strong>: More concrete and interpretable, but may not represent population</li><li><strong>Population approaches</strong>: True average effects, but may not describe any individual well</li></ul><hr/><p><em>This mathematical foundation anchors all marginal analysis in Margins.jl. For implementation details, see <a href="../api/">API Reference</a>. For computational architecture and performance implications, see <a href="../computational_architecture/">Computational Architecture</a> and <a href="../performance/">Performance Guide</a>. For advanced applications including elasticities and robust inference, see <a href="../advanced/">Advanced Features</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Introduction</a><a class="docs-footer-nextpage" href="../computational_architecture/">Computational Architecture »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Saturday 13 September 2025 12:21">Saturday 13 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
